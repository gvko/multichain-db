version: '2'
services:
  multichain-node:
    mem_limit: 268435456
    image: 630540209408.dkr.ecr.eu-central-1.amazonaws.com/multichain-node-and-app.develop:latest
    environment:
      - BLOCKCHAIN_NAME=esmiley
      - PARENT_NODE_HOST=172.20.0.2
      - PARENT_NODE_PORT=4000
      - NODE_PORT=4000
      - NODE_PORT_RPC=4001
      - RPC_PASSWORD=asdf1234
      - RPC_USERNAME=multichainrpc
    stdin_open: true
#    secrets:
    tty: true
    labels:
      service: multichain
      io.rancher.container.hostname_override: container_name
      io.rancher.container.pull_image: always
      stack_group: user
    logging:
      driver: json-file
#secrets:
#  USERNAME:
#    external: true
#  PASSWORD:
#    external: true
